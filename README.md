
# üïπÔ∏è Game Updater (GitHub Release Updater)

[EN](https://github.com/guipsg/GitRelease-Updater/blob/main/README.md) | [PT-BR](https://github.com/guipsg/GitRelease-Updater/blob/main/README_PT.md)

This project is a **Python-based** build updater that automatically downloads the latest Release version from a **private** GitHub repository. It's ideal for automating build distribution pipelines in controlled environments (testing, QA, publishers, etc).

>[!NOTE]
>This project was created to automate the process of testing local builds.

> üîê Requires a GitHub access token with read permissions for private repositories.

---

## üöÄ Features

- Accesses the latest GitHub release (via API)
- Downloads the build asset (e.g., `.zip`)
- Replaces the current Unity build with the new one
- Packaged as a `.exe` file using PyInstaller
- Supports environment variables via `.env`

---

## üìÅ Project Structure

```
game-updater/
‚îÇ
‚îú‚îÄ‚îÄ main.py                     # Updater Setup
‚îú‚îÄ‚îÄ requirements.txt            # Project dependencies
‚îú‚îÄ‚îÄ environmentGenerator.bat    # Automates virtual environment creation
‚îú‚îÄ‚îÄ environmentUpdater.bat      # Automates dependency installation
‚îú‚îÄ‚îÄ executableGenerator.bat     # Script to generate the .exe file
‚îî‚îÄ‚îÄ dist/                       # Output folder for the generated .exe
```

---

## üõ†Ô∏è Requirements

- Python 3.8 or higher
- GitHub token with read access to private repositories
- Pip and venv installed

---

## üß™ Development Setup

### 1. Clone the repository

```bash
git clone https://github.com/guipsg/GitRelease-Updater.git
```

### 2. Create and activate a virtual environment

```bash
cd GitRelease-Updater/game-updater
python -m venv venv
venv\Scripts\activate  # Windows
```
or

Run: `environmentGenerator.bat`

### 3. Install dependencies

```bash
pip install -r requirements.txt
```
or

Run: `environmentUpdater.bat`

---

## ‚ñ∂Ô∏è Running the script

Edit the Python script: `main.py`

```python
# CONFIGURATION
GITHUB_TOKEN = "ghp_your_token_here"
REPO_OWNER = "repository-owner"
REPO_NAME = "repository-name"
ASSET_NAME = "build-file-name.zip"  # name of the build file in the release
BUILD_DIR = ".\build"              # folder where the build will be placed
TEMP_DIR = "temp_download"          # temporary folder
```

With the environment activated:

```bash
python main.py
```
or

Run: `main_venv_runTest.bat`

---

### The script will download the configured `.zip` file and extract it to the folder set in `BUILD_DIR`.

## üèóÔ∏è Generating the `.exe`

>[!NOTE]
>This executable is not required, but can be useful if you want an automated updater without needing to install this repo or repeat the setup process on another machine.

You can compile everything into a `.exe` with PyInstaller. Use the `executableGenerator.bat` script:

```bash
executableGenerator.bat
```

Or manually:

```bash
venv\Scripts\activate
pyinstaller --onefile --clean main.py
```

The executable will be generated inside the `dist/` folder.

---

## ‚ö†Ô∏è Notes

- The script assumes the asset name in the GitHub release is fixed (e.g., `build-file-name.zip`). Edit the script as needed to match your repository.
- The previous Unity build will be **replaced**. Backup if necessary.
- The local build path is configured in the `BUILD_DIR` constant in the script.
- You might need to grant admin permissions to some programs if execution fails, but it's usually not required.

---

## üßº Cleaning up the build

To delete temporary files generated by PyInstaller:

```bash
rd /s /q build
rd /s /q dist
del *.spec
```
or manually delete the `build`, `dist` folders and `main.spec` file.

---

## üìÑ License

This project is licensed under the terms of the MIT License.

---

## ü§ù Contributing

Contributions are welcome! Feel free to open issues or pull requests.
